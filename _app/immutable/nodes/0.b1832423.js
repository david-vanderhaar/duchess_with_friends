import{_ as he}from"../chunks/preload-helper.41c905a7.js";import{S as pe,i as ve,s as be,e as C,b as L,C as B,h as d,k as h,q as j,a as $,l as p,m as b,r as H,c as I,n as u,D as f,E as ge,F as Y,u as re,g as M,d as q,f as ne,G as ke,H as Ee,y as we,z as ye,A as Pe,B as Se,v as ie,I as De,J as Ae,K as $e,L as Ie}from"../chunks/index.4600d8cc.js";import{b as oe}from"../chunks/paths.8e6f1163.js";import{g as ce}from"../chunks/gameDataPersistentStore.94e27cc3.js";const Le=!0,Ne="always",Fe=Object.freeze(Object.defineProperty({__proto__:null,prerender:Le,trailingSlash:Ne},Symbol.toStringTag,{value:"Module"}));function ue(i,a,e){const l=i.slice();return l[5]=a[e],l}function fe(i){let a,e,l,t,n,c=i[1],s=[];for(let r=0;r<c.length;r+=1)s[r]=_e(ue(i,c,r));return{c(){a=h("div"),e=h("a"),l=j("Saved Games"),t=$(),n=h("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){a=p(r,"DIV",{class:!0});var m=b(a);e=p(m,"A",{class:!0});var o=b(e);l=H(o,"Saved Games"),o.forEach(d),t=I(m),n=p(m,"DIV",{class:!0});var g=b(n);for(let D=0;D<s.length;D+=1)s[D].l(g);g.forEach(d),m.forEach(d),this.h()},h(){u(e,"class","navbar-link"),u(n,"class","navbar-dropdown"),u(a,"class","navbar-item has-dropdown is-hoverable")},m(r,m){L(r,a,m),f(a,e),f(e,l),f(a,t),f(a,n);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(n,null)},p(r,m){if(m&6){c=r[1];let o;for(o=0;o<c.length;o+=1){const g=ue(r,c,o);s[o]?s[o].p(g,m):(s[o]=_e(g),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=c.length}},d(r){r&&d(a),ge(s,r)}}}function de(i){let a,e,l=new Date(i[5].lastModified).toLocaleString()+"",t,n,c,s=i[5].uuid+"",r,m,o,g;function D(){return i[4](i[5])}return{c(){a=h("div"),e=h("a"),t=j(l),n=$(),c=h("span"),r=j(s),m=$(),this.h()},l(y){a=p(y,"DIV",{class:!0});var E=b(a);e=p(E,"A",{class:!0});var A=b(e);t=H(A,l),A.forEach(d),n=I(E),c=p(E,"SPAN",{class:!0});var w=b(c);r=H(w,s),w.forEach(d),m=I(E),E.forEach(d),this.h()},h(){u(e,"class","navbar-item"),u(c,"class","tag is-medium"),u(a,"class","is-flex")},m(y,E){L(y,a,E),f(a,e),f(e,t),f(a,n),f(a,c),f(c,r),f(a,m),o||(g=Y(e,"click",D),o=!0)},p(y,E){i=y,E&2&&l!==(l=new Date(i[5].lastModified).toLocaleString()+"")&&re(t,l),E&2&&s!==(s=i[5].uuid+"")&&re(r,s)},d(y){y&&d(a),o=!1,g()}}}function _e(i){var l;let a,e=((l=i[5])==null?void 0:l.uuid)&&de(i);return{c(){e&&e.c(),a=C()},l(t){e&&e.l(t),a=C()},m(t,n){e&&e.m(t,n),L(t,a,n)},p(t,n){var c;(c=t[5])!=null&&c.uuid?e?e.p(t,n):(e=de(t),e.c(),e.m(a.parentNode,a)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&d(a)}}}function Ve(i){let a,e=i[0]&&fe(i);return{c(){e&&e.c(),a=C()},l(l){e&&e.l(l),a=C()},m(l,t){e&&e.m(l,t),L(l,a,t)},p(l,[t]){l[0]?e?e.p(l,t):(e=fe(l),e.c(),e.m(a.parentNode,a)):e&&(e.d(1),e=null)},i:B,o:B,d(l){e&&e.d(l),l&&d(a)}}}function Ge(i,a,e){let l;typeof window<"u"&&he(()=>import("../chunks/peer.7061d225.js").then(r=>r.p),["../chunks/peer.7061d225.js","../chunks/index.0aa48bf6.js","../chunks/index.4600d8cc.js"],import.meta.url).then(r=>{e(0,l=r.default)});let t=[];ce.subscribe(r=>{e(3,t=r)});function n(r){l.loadSavedGameData(r)}let c;const s=r=>n(r);return i.$$.update=()=>{i.$$.dirty&8&&e(1,c=t.sort((r,m)=>new Date(m.lastModified)-new Date(r.lastModified)).slice(0,5)),i.$$.dirty&8&&t.length>20&&ce.delete(t.at(-1).uuid)},[l,c,n,t,s]}class Me extends pe{constructor(a){super(),ve(this,a,Ge,Ve,be,{})}}const{window:Re}=Ee;function me(i){let a,e;return a=new Me({}),{c(){we(a.$$.fragment)},l(l){ye(a.$$.fragment,l)},m(l,t){Pe(a,l,t),e=!0},i(l){e||(M(a.$$.fragment,l),e=!0)},o(l){q(a.$$.fragment,l),e=!1},d(l){Se(a,l)}}}function Oe(i){let a,e;return{c(){a=h("p"),e=j("Loading..."),this.h()},l(l){a=p(l,"P",{class:!0});var t=b(a);e=H(t,"Loading..."),t.forEach(d),this.h()},h(){u(a,"class","section has-text-centered")},m(l,t){L(l,a,t),f(a,e)},p:B,i:B,o:B,d(l){l&&d(a)}}}function Te(i){let a,e;const l=i[5].default,t=De(l,i,i[4],null);return{c(){a=h("main"),t&&t.c(),this.h()},l(n){a=p(n,"MAIN",{class:!0});var c=b(a);t&&t.l(c),c.forEach(d),this.h()},h(){u(a,"class","section pt-0 svelte-1nm4ziv")},m(n,c){L(n,a,c),t&&t.m(a,null),e=!0},p(n,c){t&&t.p&&(!e||c&16)&&Ae(t,l,n,n[4],e?Ie(l,n[4],c,null):$e(n[4]),null)},i(n){e||(M(t,n),e=!0)},o(n){q(t,n),e=!1},d(n){n&&d(a),t&&t.d(n)}}}function ze(i){let a,e,l,t,n,c,s,r,m,o,g,D,y,E,A,w,G,U,W,F,Q,J,K,P,S,R,O,X,Z,v=i[1]&&me();const x=[Te,Oe],N=[];function ee(_,k){return _[0]?0:1}return P=ee(i),S=N[P]=x[P](i),{c(){a=h("nav"),e=h("div"),l=h("a"),t=h("p"),n=j("The Duchess"),c=$(),s=h("a"),r=h("span"),m=$(),o=h("span"),g=$(),D=h("span"),E=$(),A=h("div"),w=h("div"),G=h("a"),U=j("Play"),W=$(),F=h("hr"),Q=$(),v&&v.c(),K=$(),S.c(),R=C(),this.h()},l(_){a=p(_,"NAV",{class:!0,role:!0,"aria-label":!0});var k=b(a);e=p(k,"DIV",{class:!0});var V=b(e);l=p(V,"A",{class:!0,href:!0});var ae=b(l);t=p(ae,"P",{class:!0});var te=b(t);n=H(te,"The Duchess"),te.forEach(d),ae.forEach(d),c=I(V),s=p(V,"A",{id:!0,role:!0,class:!0,"aria-label":!0,"aria-expanded":!0,"data-target":!0});var T=b(s);r=p(T,"SPAN",{"aria-hidden":!0}),b(r).forEach(d),m=I(T),o=p(T,"SPAN",{"aria-hidden":!0}),b(o).forEach(d),g=I(T),D=p(T,"SPAN",{"aria-hidden":!0}),b(D).forEach(d),T.forEach(d),V.forEach(d),E=I(k),A=p(k,"DIV",{id:!0,class:!0});var le=b(A);w=p(le,"DIV",{class:!0});var z=b(w);G=p(z,"A",{class:!0,href:!0});var se=b(G);U=H(se,"Play"),se.forEach(d),W=I(z),F=p(z,"HR",{class:!0}),Q=I(z),v&&v.l(z),z.forEach(d),le.forEach(d),k.forEach(d),K=I(_),S.l(_),R=C(),this.h()},h(){u(t,"class","menu-label"),u(l,"class","navbar-item p-0 pr-2"),u(l,"href",oe+"/"),u(r,"aria-hidden","true"),u(o,"aria-hidden","true"),u(D,"aria-hidden","true"),u(s,"id","navbar-menu-mobile"),u(s,"role","button"),u(s,"class",y="navbar-burger "+(i[2]?"is-active":"")),u(s,"aria-label","menu"),u(s,"aria-expanded","false"),u(s,"data-target","navbar"),u(e,"class","navbar-brand"),u(G,"class","navbar-item"),u(G,"href",oe+"/play"),u(F,"class","navbar-divider"),u(w,"class","navbar-start"),u(A,"id","navbar"),u(A,"class",J="navbar-menu "+(i[2]?"is-active":"")),u(a,"class","navbar section pb-2 pt-4 svelte-1nm4ziv"),u(a,"role","navigation"),u(a,"aria-label","main navigation")},m(_,k){L(_,a,k),f(a,e),f(e,l),f(l,t),f(t,n),f(e,c),f(e,s),f(s,r),f(s,m),f(s,o),f(s,g),f(s,D),f(a,E),f(a,A),f(A,w),f(w,G),f(G,U),f(w,W),f(w,F),f(w,Q),v&&v.m(w,null),L(_,K,k),N[P].m(_,k),L(_,R,k),O=!0,X||(Z=[Y(Re,"click",i[3]),Y(s,"click",i[6])],X=!0)},p(_,[k]){(!O||k&4&&y!==(y="navbar-burger "+(_[2]?"is-active":"")))&&u(s,"class",y),_[1]?v?k&2&&M(v,1):(v=me(),v.c(),M(v,1),v.m(w,null)):v&&(ie(),q(v,1,1,()=>{v=null}),ne()),(!O||k&4&&J!==(J="navbar-menu "+(_[2]?"is-active":"")))&&u(A,"class",J);let V=P;P=ee(_),P===V?N[P].p(_,k):(ie(),q(N[V],1,1,()=>{N[V]=null}),ne(),S=N[P],S?S.p(_,k):(S=N[P]=x[P](_),S.c()),M(S,1),S.m(R.parentNode,R))},i(_){O||(M(v),M(S),O=!0)},o(_){q(v),q(S),O=!1},d(_){_&&d(a),v&&v.d(),_&&d(K),N[P].d(_),_&&d(R),X=!1,ke(Z)}}}function qe(i,a,e){let{$$slots:l={},$$scope:t}=a,n,c=!1;typeof window<"u"&&(he(()=>import("../chunks/peer.7061d225.js").then(g=>g.p),["../chunks/peer.7061d225.js","../chunks/index.0aa48bf6.js","../chunks/index.4600d8cc.js"],import.meta.url).then(g=>{e(0,n=g.default)}),c=!new URLSearchParams(window.location.search).has("roomId")&&window.location.pathname.endsWith("/play/"));let s=!1;function r(o){s&&(document.querySelector("#navbar-menu-mobile").contains(o.target)||e(2,s=!1))}const m=()=>e(2,s=!s);return i.$$set=o=>{"$$scope"in o&&e(4,t=o.$$scope)},[n,c,s,r,t,l,m]}class Je extends pe{constructor(a){super(),ve(this,a,qe,ze,be,{})}}export{Je as component,Fe as universal};
