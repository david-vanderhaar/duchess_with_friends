import{S as ue,i as de,s as fe,k as h,q,a as w,l as p,m as b,r as C,h as _,c as $,n as o,b as L,C as c,D as ae,E as _e,e as te,F as U,u as se,G as me,g as z,d as R,f as ve,H as he,I as pe,J as be,K as ge,L as Ee,y as ye,z as ke,A as Se,B as De,v as Ae}from"../chunks/index.86a7cc1e.js";import{b as le}from"../chunks/paths.e0ea9c8b.js";import{p as Pe}from"../chunks/stores.a18c12f6.js";import{g as re}from"../chunks/gameDataPersistentStore.045763f5.js";import{P as we}from"../chunks/peer.ff6704f1.js";const $e=!0,Te=Object.freeze(Object.defineProperty({__proto__:null,prerender:$e},Symbol.toStringTag,{value:"Module"}));function ne(r,e,a){const s=r.slice();return s[4]=e[a],s}function ie(r){let e,a,s=new Date(r[4].lastModified).toLocaleString()+"",n,d,u,t=r[4].uuid+"",i,m,l,k;function A(){return r[3](r[4])}return{c(){e=h("div"),a=h("a"),n=q(s),d=w(),u=h("span"),i=q(t),m=w(),this.h()},l(D){e=p(D,"DIV",{class:!0});var g=b(e);a=p(g,"A",{class:!0});var P=b(a);n=C(P,s),P.forEach(_),d=$(g),u=p(g,"SPAN",{class:!0});var E=b(u);i=C(E,t),E.forEach(_),m=$(g),g.forEach(_),this.h()},h(){o(a,"class","navbar-item"),o(u,"class","tag is-medium"),o(e,"class","is-flex")},m(D,g){L(D,e,g),c(e,a),c(a,n),c(e,d),c(e,u),c(u,i),c(e,m),l||(k=U(a,"click",A),l=!0)},p(D,g){r=D,g&1&&s!==(s=new Date(r[4].lastModified).toLocaleString()+"")&&se(n,s),g&1&&t!==(t=r[4].uuid+"")&&se(i,t)},d(D){D&&_(e),l=!1,k()}}}function oe(r){var s;let e,a=((s=r[4])==null?void 0:s.uuid)&&ie(r);return{c(){a&&a.c(),e=te()},l(n){a&&a.l(n),e=te()},m(n,d){a&&a.m(n,d),L(n,e,d)},p(n,d){var u;(u=n[4])!=null&&u.uuid?a?a.p(n,d):(a=ie(n),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},d(n){a&&a.d(n),n&&_(e)}}}function Ge(r){let e,a,s,n,d,u=r[0],t=[];for(let i=0;i<u.length;i+=1)t[i]=oe(ne(r,u,i));return{c(){e=h("div"),a=h("a"),s=q("Saved Games"),n=w(),d=h("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=p(i,"DIV",{class:!0});var m=b(e);a=p(m,"A",{class:!0});var l=b(a);s=C(l,"Saved Games"),l.forEach(_),n=$(m),d=p(m,"DIV",{class:!0});var k=b(d);for(let A=0;A<t.length;A+=1)t[A].l(k);k.forEach(_),m.forEach(_),this.h()},h(){o(a,"class","navbar-link"),o(d,"class","navbar-dropdown"),o(e,"class","navbar-item has-dropdown is-hoverable")},m(i,m){L(i,e,m),c(e,a),c(a,s),c(e,n),c(e,d);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(d,null)},p(i,[m]){if(m&3){u=i[0];let l;for(l=0;l<u.length;l+=1){const k=ne(i,u,l);t[l]?t[l].p(k,m):(t[l]=oe(k),t[l].c(),t[l].m(d,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=u.length}},i:ae,o:ae,d(i){i&&_(e),_e(t,i)}}}function Ie(r,e,a){let s=[];re.subscribe(t=>{a(2,s=t)});function n(t){we.loadSavedGameData(t)}let d;const u=t=>n(t);return r.$$.update=()=>{r.$$.dirty&4&&a(0,d=s.sort((t,i)=>new Date(i.lastModified)-new Date(t.lastModified)).slice(0,5)),r.$$.dirty&4&&s.length>20&&re.delete(s.at(-1).uuid)},[d,n,s,u]}class Me extends ue{constructor(e){super(),de(this,e,Ie,Ge,fe,{})}}function ce(r){let e,a;return e=new Me({}),{c(){ye(e.$$.fragment)},l(s){ke(e.$$.fragment,s)},m(s,n){Se(e,s,n),a=!0},i(s){a||(z(e.$$.fragment,s),a=!0)},o(s){R(e.$$.fragment,s),a=!1},d(s){De(e,s)}}}function Ne(r){let e,a,s,n,d,u,t,i,m,l,k,A,D,g,P,E,I,B,F,O,J,T,j,M,G,K,W,v=r[1]&&ce();const Q=r[5].default,S=me(Q,r,r[4],null);return{c(){e=h("nav"),a=h("div"),s=h("a"),n=h("p"),d=q("The Duchess"),u=w(),t=h("a"),i=h("span"),m=w(),l=h("span"),k=w(),A=h("span"),g=w(),P=h("div"),E=h("div"),I=h("a"),B=q("Play"),F=w(),O=h("hr"),J=w(),v&&v.c(),j=w(),M=h("main"),S&&S.c(),this.h()},l(f){e=p(f,"NAV",{class:!0,role:!0,"aria-label":!0});var y=b(e);a=p(y,"DIV",{class:!0});var H=b(a);s=p(H,"A",{class:!0,href:!0});var X=b(s);n=p(X,"P",{class:!0});var Y=b(n);d=C(Y,"The Duchess"),Y.forEach(_),X.forEach(_),u=$(H),t=p(H,"A",{id:!0,role:!0,class:!0,"aria-label":!0,"aria-expanded":!0,"data-target":!0});var N=b(t);i=p(N,"SPAN",{"aria-hidden":!0}),b(i).forEach(_),m=$(N),l=p(N,"SPAN",{"aria-hidden":!0}),b(l).forEach(_),k=$(N),A=p(N,"SPAN",{"aria-hidden":!0}),b(A).forEach(_),N.forEach(_),H.forEach(_),g=$(y),P=p(y,"DIV",{id:!0,class:!0});var Z=b(P);E=p(Z,"DIV",{class:!0});var V=b(E);I=p(V,"A",{class:!0,href:!0});var x=b(I);B=C(x,"Play"),x.forEach(_),F=$(V),O=p(V,"HR",{class:!0}),J=$(V),v&&v.l(V),V.forEach(_),Z.forEach(_),y.forEach(_),j=$(f),M=p(f,"MAIN",{class:!0});var ee=b(M);S&&S.l(ee),ee.forEach(_),this.h()},h(){o(n,"class","menu-label"),o(s,"class","navbar-item p-0 pr-2"),o(s,"href",le+"/"),o(i,"aria-hidden","true"),o(l,"aria-hidden","true"),o(A,"aria-hidden","true"),o(t,"id","navbar-menu-mobile"),o(t,"role","button"),o(t,"class",D="navbar-burger "+(r[0]?"is-active":"")),o(t,"aria-label","menu"),o(t,"aria-expanded","false"),o(t,"data-target","navbar"),o(a,"class","navbar-brand"),o(I,"class","navbar-item"),o(I,"href",le+"/play"),o(O,"class","navbar-divider"),o(E,"class","navbar-start"),o(P,"id","navbar"),o(P,"class",T="navbar-menu "+(r[0]?"is-active":"")),o(e,"class","navbar section pb-2 pt-4 svelte-1nm4ziv"),o(e,"role","navigation"),o(e,"aria-label","main navigation"),o(M,"class","section pt-0 svelte-1nm4ziv")},m(f,y){L(f,e,y),c(e,a),c(a,s),c(s,n),c(n,d),c(a,u),c(a,t),c(t,i),c(t,m),c(t,l),c(t,k),c(t,A),c(e,g),c(e,P),c(P,E),c(E,I),c(I,B),c(E,F),c(E,O),c(E,J),v&&v.m(E,null),L(f,j,y),L(f,M,y),S&&S.m(M,null),G=!0,K||(W=[U(window,"click",r[2]),U(t,"click",r[6])],K=!0)},p(f,[y]){(!G||y&1&&D!==(D="navbar-burger "+(f[0]?"is-active":"")))&&o(t,"class",D),f[1]?v?y&2&&z(v,1):(v=ce(),v.c(),z(v,1),v.m(E,null)):v&&(Ae(),R(v,1,1,()=>{v=null}),ve()),(!G||y&1&&T!==(T="navbar-menu "+(f[0]?"is-active":"")))&&o(P,"class",T),S&&S.p&&(!G||y&16)&&he(S,Q,f,f[4],G?be(Q,f[4],y,null):pe(f[4]),null)},i(f){G||(z(v),z(S,f),G=!0)},o(f){R(v),R(S,f),G=!1},d(f){f&&_(e),v&&v.d(),f&&_(j),f&&_(M),S&&S.d(f),K=!1,ge(W)}}}function Ve(r,e,a){let s;Ee(r,Pe,l=>a(3,s=l));let{$$slots:n={},$$scope:d}=e,u=!1;function t(l){u&&(document.querySelector("#navbar-menu-mobile").contains(l.target)||a(0,u=!1))}let i=!1;const m=()=>a(0,u=!u);return r.$$set=l=>{"$$scope"in l&&a(4,d=l.$$scope)},r.$$.update=()=>{r.$$.dirty&8&&a(1,i=s.route.id==="/play")},[u,i,t,s,d,n,m]}class je extends ue{constructor(e){super(),de(this,e,Ve,Ne,fe,{})}}export{je as component,Te as universal};
