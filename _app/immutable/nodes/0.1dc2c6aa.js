import{_ as me}from"../chunks/preload-helper.41c905a7.js";import{S as he,i as ve,s as be,e as C,b as N,C as B,h as d,k as h,q as j,a as I,l as v,m as g,r as H,c as L,n as u,D as f,E as ge,F as Y,u as re,g as M,d as q,f as ne,G as ke,H as Ee,I as ye,y as we,z as De,A as Pe,B as Se,v as ie,J as Ae,K as Ie,L as Le,M as Ne}from"../chunks/index.227810b5.js";import{e as oe}from"../chunks/singletons.6184ce21.js";import{p as Ve}from"../chunks/stores.3b3965ca.js";import{g as ce}from"../chunks/gameDataPersistentStore.a569d2f5.js";const $e=!0,Ke=Object.freeze(Object.defineProperty({__proto__:null,prerender:$e},Symbol.toStringTag,{value:"Module"}));function ue(r,a,e){const t=r.slice();return t[5]=a[e],t}function fe(r){let a,e,t,l,i,o=r[1],s=[];for(let n=0;n<o.length;n+=1)s[n]=_e(ue(r,o,n));return{c(){a=h("div"),e=h("a"),t=j("Saved Games"),l=I(),i=h("div");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){a=v(n,"DIV",{class:!0});var m=g(a);e=v(m,"A",{class:!0});var c=g(e);t=H(c,"Saved Games"),c.forEach(d),l=L(m),i=v(m,"DIV",{class:!0});var p=g(i);for(let w=0;w<s.length;w+=1)s[w].l(p);p.forEach(d),m.forEach(d),this.h()},h(){u(e,"class","navbar-link"),u(i,"class","navbar-dropdown"),u(a,"class","navbar-item has-dropdown is-hoverable")},m(n,m){N(n,a,m),f(a,e),f(e,t),f(a,l),f(a,i);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(i,null)},p(n,m){if(m&6){o=n[1];let c;for(c=0;c<o.length;c+=1){const p=ue(n,o,c);s[c]?s[c].p(p,m):(s[c]=_e(p),s[c].c(),s[c].m(i,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=o.length}},d(n){n&&d(a),ge(s,n)}}}function de(r){let a,e,t=new Date(r[5].lastModified).toLocaleString()+"",l,i,o,s=r[5].uuid+"",n,m,c,p;function w(){return r[4](r[5])}return{c(){a=h("div"),e=h("a"),l=j(t),i=I(),o=h("span"),n=j(s),m=I(),this.h()},l(D){a=v(D,"DIV",{class:!0});var E=g(a);e=v(E,"A",{class:!0});var A=g(e);l=H(A,t),A.forEach(d),i=L(E),o=v(E,"SPAN",{class:!0});var y=g(o);n=H(y,s),y.forEach(d),m=L(E),E.forEach(d),this.h()},h(){u(e,"class","navbar-item"),u(o,"class","tag is-medium"),u(a,"class","is-flex")},m(D,E){N(D,a,E),f(a,e),f(e,l),f(a,i),f(a,o),f(o,n),f(a,m),c||(p=Y(e,"click",w),c=!0)},p(D,E){r=D,E&2&&t!==(t=new Date(r[5].lastModified).toLocaleString()+"")&&re(l,t),E&2&&s!==(s=r[5].uuid+"")&&re(n,s)},d(D){D&&d(a),c=!1,p()}}}function _e(r){var t;let a,e=((t=r[5])==null?void 0:t.uuid)&&de(r);return{c(){e&&e.c(),a=C()},l(l){e&&e.l(l),a=C()},m(l,i){e&&e.m(l,i),N(l,a,i)},p(l,i){var o;(o=l[5])!=null&&o.uuid?e?e.p(l,i):(e=de(l),e.c(),e.m(a.parentNode,a)):e&&(e.d(1),e=null)},d(l){e&&e.d(l),l&&d(a)}}}function Ge(r){let a,e=r[0]&&fe(r);return{c(){e&&e.c(),a=C()},l(t){e&&e.l(t),a=C()},m(t,l){e&&e.m(t,l),N(t,a,l)},p(t,[l]){t[0]?e?e.p(t,l):(e=fe(t),e.c(),e.m(a.parentNode,a)):e&&(e.d(1),e=null)},i:B,o:B,d(t){e&&e.d(t),t&&d(a)}}}function Me(r,a,e){let t;typeof window<"u"&&me(()=>import("../chunks/peer.f2d91d78.js").then(n=>n.p),["../chunks/peer.f2d91d78.js","../chunks/index.60de578f.js","../chunks/index.227810b5.js"],import.meta.url).then(n=>{e(0,t=n.default)});let l=[];ce.subscribe(n=>{e(3,l=n)});function i(n){t.loadSavedGameData(n)}let o;const s=n=>i(n);return r.$$.update=()=>{r.$$.dirty&8&&e(1,o=l.sort((n,m)=>new Date(m.lastModified)-new Date(n.lastModified)).slice(0,5)),r.$$.dirty&8&&l.length>20&&ce.delete(l.at(-1).uuid)},[t,o,i,l,s]}class Oe extends he{constructor(a){super(),ve(this,a,Me,Ge,be,{})}}const{window:Re}=ye;function pe(r){let a,e;return a=new Oe({}),{c(){we(a.$$.fragment)},l(t){De(a.$$.fragment,t)},m(t,l){Pe(a,t,l),e=!0},i(t){e||(M(a.$$.fragment,t),e=!0)},o(t){q(a.$$.fragment,t),e=!1},d(t){Se(a,t)}}}function Te(r){let a,e;return{c(){a=h("p"),e=j("Loading...")},l(t){a=v(t,"P",{});var l=g(a);e=H(l,"Loading..."),l.forEach(d)},m(t,l){N(t,a,l),f(a,e)},p:B,i:B,o:B,d(t){t&&d(a)}}}function ze(r){let a,e;const t=r[6].default,l=Ae(t,r,r[5],null);return{c(){a=h("main"),l&&l.c(),this.h()},l(i){a=v(i,"MAIN",{class:!0});var o=g(a);l&&l.l(o),o.forEach(d),this.h()},h(){u(a,"class","section pt-0 svelte-1nm4ziv")},m(i,o){N(i,a,o),l&&l.m(a,null),e=!0},p(i,o){l&&l.p&&(!e||o&32)&&Ie(l,t,i,i[5],e?Ne(t,i[5],o,null):Le(i[5]),null)},i(i){e||(M(l,i),e=!0)},o(i){q(l,i),e=!1},d(i){i&&d(a),l&&l.d(i)}}}function qe(r){let a,e,t,l,i,o,s,n,m,c,p,w,D,E,A,y,G,Q,U,F,W,J,K,P,S,O,R,X,Z,b=r[2]&&pe();const x=[ze,Te],V=[];function ee(_,k){return _[0]?0:1}return P=ee(r),S=V[P]=x[P](r),{c(){a=h("nav"),e=h("div"),t=h("a"),l=h("p"),i=j("The Duchess"),o=I(),s=h("a"),n=h("span"),m=I(),c=h("span"),p=I(),w=h("span"),E=I(),A=h("div"),y=h("div"),G=h("a"),Q=j("Play"),U=I(),F=h("hr"),W=I(),b&&b.c(),K=I(),S.c(),O=C(),this.h()},l(_){a=v(_,"NAV",{class:!0,role:!0,"aria-label":!0});var k=g(a);e=v(k,"DIV",{class:!0});var $=g(e);t=v($,"A",{class:!0,href:!0});var ae=g(t);l=v(ae,"P",{class:!0});var te=g(l);i=H(te,"The Duchess"),te.forEach(d),ae.forEach(d),o=L($),s=v($,"A",{id:!0,role:!0,class:!0,"aria-label":!0,"aria-expanded":!0,"data-target":!0});var T=g(s);n=v(T,"SPAN",{"aria-hidden":!0}),g(n).forEach(d),m=L(T),c=v(T,"SPAN",{"aria-hidden":!0}),g(c).forEach(d),p=L(T),w=v(T,"SPAN",{"aria-hidden":!0}),g(w).forEach(d),T.forEach(d),$.forEach(d),E=L(k),A=v(k,"DIV",{id:!0,class:!0});var le=g(A);y=v(le,"DIV",{class:!0});var z=g(y);G=v(z,"A",{class:!0,href:!0});var se=g(G);Q=H(se,"Play"),se.forEach(d),U=L(z),F=v(z,"HR",{class:!0}),W=L(z),b&&b.l(z),z.forEach(d),le.forEach(d),k.forEach(d),K=L(_),S.l(_),O=C(),this.h()},h(){u(l,"class","menu-label"),u(t,"class","navbar-item p-0 pr-2"),u(t,"href",oe+"/"),u(n,"aria-hidden","true"),u(c,"aria-hidden","true"),u(w,"aria-hidden","true"),u(s,"id","navbar-menu-mobile"),u(s,"role","button"),u(s,"class",D="navbar-burger "+(r[1]?"is-active":"")),u(s,"aria-label","menu"),u(s,"aria-expanded","false"),u(s,"data-target","navbar"),u(e,"class","navbar-brand"),u(G,"class","navbar-item"),u(G,"href",oe+"/play"),u(F,"class","navbar-divider"),u(y,"class","navbar-start"),u(A,"id","navbar"),u(A,"class",J="navbar-menu "+(r[1]?"is-active":"")),u(a,"class","navbar section pb-2 pt-4 svelte-1nm4ziv"),u(a,"role","navigation"),u(a,"aria-label","main navigation")},m(_,k){N(_,a,k),f(a,e),f(e,t),f(t,l),f(l,i),f(e,o),f(e,s),f(s,n),f(s,m),f(s,c),f(s,p),f(s,w),f(a,E),f(a,A),f(A,y),f(y,G),f(G,Q),f(y,U),f(y,F),f(y,W),b&&b.m(y,null),N(_,K,k),V[P].m(_,k),N(_,O,k),R=!0,X||(Z=[Y(Re,"click",r[3]),Y(s,"click",r[7])],X=!0)},p(_,[k]){(!R||k&2&&D!==(D="navbar-burger "+(_[1]?"is-active":"")))&&u(s,"class",D),_[2]?b?k&4&&M(b,1):(b=pe(),b.c(),M(b,1),b.m(y,null)):b&&(ie(),q(b,1,1,()=>{b=null}),ne()),(!R||k&2&&J!==(J="navbar-menu "+(_[1]?"is-active":"")))&&u(A,"class",J);let $=P;P=ee(_),P===$?V[P].p(_,k):(ie(),q(V[$],1,1,()=>{V[$]=null}),ne(),S=V[P],S?S.p(_,k):(S=V[P]=x[P](_),S.c()),M(S,1),S.m(O.parentNode,O))},i(_){R||(M(b),M(S),R=!0)},o(_){q(b),q(S),R=!1},d(_){_&&d(a),b&&b.d(),_&&d(K),V[P].d(_),_&&d(O),X=!1,ke(Z)}}}function Ce(r,a,e){let t;Ee(r,Ve,p=>e(4,t=p));let{$$slots:l={},$$scope:i}=a,o;typeof window<"u"&&me(()=>import("../chunks/peer.f2d91d78.js").then(p=>p.p),["../chunks/peer.f2d91d78.js","../chunks/index.60de578f.js","../chunks/index.227810b5.js"],import.meta.url).then(p=>{e(0,o=p.default)});let s=!1;function n(p){s&&(document.querySelector("#navbar-menu-mobile").contains(p.target)||e(1,s=!1))}let m=!1;const c=()=>e(1,s=!s);return r.$$set=p=>{"$$scope"in p&&e(5,i=p.$$scope)},r.$$.update=()=>{r.$$.dirty&16&&e(2,m=t.route.id==="/play")},[o,s,m,n,t,i,l,c]}class Qe extends he{constructor(a){super(),ve(this,a,Ce,qe,be,{})}}export{Qe as component,Ke as universal};
