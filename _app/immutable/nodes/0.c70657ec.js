import{_ as pe}from"../chunks/preload-helper.41c905a7.js";import{S as he,i as ve,s as be,e as C,b as N,C as B,h as d,k as h,q as j,a as I,l as v,m as g,r as H,c as L,n as u,D as f,E as ge,F as Y,u as re,g as M,d as q,f as ne,G as ke,H as Ee,I as ye,y as we,z as Pe,A as Se,B as De,v as ie,J as Ae,K as Ie,L as Le,M as Ne}from"../chunks/index.19e1161b.js";import{e as oe}from"../chunks/singletons.02ffb122.js";import{p as Ve}from"../chunks/stores.d56a127b.js";import{g as ce}from"../chunks/gameDataPersistentStore.0a2d0227.js";const $e=!0,Ge="always",Ue=Object.freeze(Object.defineProperty({__proto__:null,prerender:$e,trailingSlash:Ge},Symbol.toStringTag,{value:"Module"}));function ue(n,a,e){const t=n.slice();return t[5]=a[e],t}function fe(n){let a,e,t,l,i,o=n[1],r=[];for(let s=0;s<o.length;s+=1)r[s]=_e(ue(n,o,s));return{c(){a=h("div"),e=h("a"),t=j("Saved Games"),l=I(),i=h("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){a=v(s,"DIV",{class:!0});var _=g(a);e=v(_,"A",{class:!0});var c=g(e);t=H(c,"Saved Games"),c.forEach(d),l=L(_),i=v(_,"DIV",{class:!0});var E=g(i);for(let p=0;p<r.length;p+=1)r[p].l(E);E.forEach(d),_.forEach(d),this.h()},h(){u(e,"class","navbar-link"),u(i,"class","navbar-dropdown"),u(a,"class","navbar-item has-dropdown is-hoverable")},m(s,_){N(s,a,_),f(a,e),f(e,t),f(a,l),f(a,i);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(i,null)},p(s,_){if(_&6){o=s[1];let c;for(c=0;c<o.length;c+=1){const E=ue(s,o,c);r[c]?r[c].p(E,_):(r[c]=_e(E),r[c].c(),r[c].m(i,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}},d(s){s&&d(a),ge(r,s)}}}function de(n){let a,e,t=new Date(n[5].lastModified).toLocaleString()+"",l,i,o,r=n[5].uuid+"",s,_,c,E;function p(){return n[4](n[5])}return{c(){a=h("div"),e=h("a"),l=j(t),i=I(),o=h("span"),s=j(r),_=I(),this.h()},l(P){a=v(P,"DIV",{class:!0});var y=g(a);e=v(y,"A",{class:!0});var A=g(e);l=H(A,t),A.forEach(d),i=L(y),o=v(y,"SPAN",{class:!0});var w=g(o);s=H(w,r),w.forEach(d),_=L(y),y.forEach(d),this.h()},h(){u(e,"class","navbar-item"),u(o,"class","tag is-medium"),u(a,"class","is-flex")},m(P,y){N(P,a,y),f(a,e),f(e,l),f(a,i),f(a,o),f(o,s),f(a,_),c||(E=Y(e,"click",p),c=!0)},p(P,y){n=P,y&2&&t!==(t=new Date(n[5].lastModified).toLocaleString()+"")&&re(l,t),y&2&&r!==(r=n[5].uuid+"")&&re(s,r)},d(P){P&&d(a),c=!1,E()}}}function _e(n){var t;let a,e=((t=n[5])==null?void 0:t.uuid)&&de(n);return{c(){e&&e.c(),a=C()},l(l){e&&e.l(l),a=C()},m(l,i){e&&e.m(l,i),N(l,a,i)},p(l,i){var o;(o=l[5])!=null&&o.uuid?e?e.p(l,i):(e=de(l),e.c(),e.m(a.parentNode,a)):e&&(e.d(1),e=null)},d(l){e&&e.d(l),l&&d(a)}}}function Me(n){let a,e=n[0]&&fe(n);return{c(){e&&e.c(),a=C()},l(t){e&&e.l(t),a=C()},m(t,l){e&&e.m(t,l),N(t,a,l)},p(t,[l]){t[0]?e?e.p(t,l):(e=fe(t),e.c(),e.m(a.parentNode,a)):e&&(e.d(1),e=null)},i:B,o:B,d(t){e&&e.d(t),t&&d(a)}}}function Re(n,a,e){let t;typeof window<"u"&&pe(()=>import("../chunks/peer.2037a756.js").then(s=>s.p),["../chunks/peer.2037a756.js","../chunks/index.10f0bbf2.js","../chunks/index.19e1161b.js"],import.meta.url).then(s=>{e(0,t=s.default)});let l=[];ce.subscribe(s=>{e(3,l=s)});function i(s){t.loadSavedGameData(s)}let o;const r=s=>i(s);return n.$$.update=()=>{n.$$.dirty&8&&e(1,o=l.sort((s,_)=>new Date(_.lastModified)-new Date(s.lastModified)).slice(0,5)),n.$$.dirty&8&&l.length>20&&ce.delete(l.at(-1).uuid)},[t,o,i,l,r]}class Oe extends he{constructor(a){super(),ve(this,a,Re,Me,be,{})}}const{window:Te}=ye;function me(n){let a,e;return a=new Oe({}),{c(){we(a.$$.fragment)},l(t){Pe(a.$$.fragment,t)},m(t,l){Se(a,t,l),e=!0},i(t){e||(M(a.$$.fragment,t),e=!0)},o(t){q(a.$$.fragment,t),e=!1},d(t){De(a,t)}}}function ze(n){let a,e;return{c(){a=h("p"),e=j("Loading..."),this.h()},l(t){a=v(t,"P",{class:!0});var l=g(a);e=H(l,"Loading..."),l.forEach(d),this.h()},h(){u(a,"class","section has-text-centered")},m(t,l){N(t,a,l),f(a,e)},p:B,i:B,o:B,d(t){t&&d(a)}}}function qe(n){let a,e;const t=n[7].default,l=Ae(t,n,n[6],null);return{c(){a=h("main"),l&&l.c(),this.h()},l(i){a=v(i,"MAIN",{class:!0});var o=g(a);l&&l.l(o),o.forEach(d),this.h()},h(){u(a,"class","section pt-0 svelte-1nm4ziv")},m(i,o){N(i,a,o),l&&l.m(a,null),e=!0},p(i,o){l&&l.p&&(!e||o&64)&&Ie(l,t,i,i[6],e?Ne(t,i[6],o,null):Le(i[6]),null)},i(i){e||(M(l,i),e=!0)},o(i){q(l,i),e=!1},d(i){i&&d(a),l&&l.d(i)}}}function Ce(n){let a,e,t,l,i,o,r,s,_,c,E,p,P,y,A,w,G,U,Q,F,W,J,K,S,D,R,O,X,Z,b=n[1]&&me();const x=[qe,ze],V=[];function ee(m,k){return m[0]?0:1}return S=ee(n),D=V[S]=x[S](n),{c(){a=h("nav"),e=h("div"),t=h("a"),l=h("p"),i=j("The Duchess"),o=I(),r=h("a"),s=h("span"),_=I(),c=h("span"),E=I(),p=h("span"),y=I(),A=h("div"),w=h("div"),G=h("a"),U=j("Play"),Q=I(),F=h("hr"),W=I(),b&&b.c(),K=I(),D.c(),R=C(),this.h()},l(m){a=v(m,"NAV",{class:!0,role:!0,"aria-label":!0});var k=g(a);e=v(k,"DIV",{class:!0});var $=g(e);t=v($,"A",{class:!0,href:!0});var ae=g(t);l=v(ae,"P",{class:!0});var te=g(l);i=H(te,"The Duchess"),te.forEach(d),ae.forEach(d),o=L($),r=v($,"A",{id:!0,role:!0,class:!0,"aria-label":!0,"aria-expanded":!0,"data-target":!0});var T=g(r);s=v(T,"SPAN",{"aria-hidden":!0}),g(s).forEach(d),_=L(T),c=v(T,"SPAN",{"aria-hidden":!0}),g(c).forEach(d),E=L(T),p=v(T,"SPAN",{"aria-hidden":!0}),g(p).forEach(d),T.forEach(d),$.forEach(d),y=L(k),A=v(k,"DIV",{id:!0,class:!0});var le=g(A);w=v(le,"DIV",{class:!0});var z=g(w);G=v(z,"A",{class:!0,href:!0});var se=g(G);U=H(se,"Play"),se.forEach(d),Q=L(z),F=v(z,"HR",{class:!0}),W=L(z),b&&b.l(z),z.forEach(d),le.forEach(d),k.forEach(d),K=L(m),D.l(m),R=C(),this.h()},h(){u(l,"class","menu-label"),u(t,"class","navbar-item p-0 pr-2"),u(t,"href",oe+"/"),u(s,"aria-hidden","true"),u(c,"aria-hidden","true"),u(p,"aria-hidden","true"),u(r,"id","navbar-menu-mobile"),u(r,"role","button"),u(r,"class",P="navbar-burger "+(n[2]?"is-active":"")),u(r,"aria-label","menu"),u(r,"aria-expanded","false"),u(r,"data-target","navbar"),u(e,"class","navbar-brand"),u(G,"class","navbar-item"),u(G,"href",oe+"/play"),u(F,"class","navbar-divider"),u(w,"class","navbar-start"),u(A,"id","navbar"),u(A,"class",J="navbar-menu "+(n[2]?"is-active":"")),u(a,"class","navbar section pb-2 pt-4 svelte-1nm4ziv"),u(a,"role","navigation"),u(a,"aria-label","main navigation")},m(m,k){N(m,a,k),f(a,e),f(e,t),f(t,l),f(l,i),f(e,o),f(e,r),f(r,s),f(r,_),f(r,c),f(r,E),f(r,p),f(a,y),f(a,A),f(A,w),f(w,G),f(G,U),f(w,Q),f(w,F),f(w,W),b&&b.m(w,null),N(m,K,k),V[S].m(m,k),N(m,R,k),O=!0,X||(Z=[Y(Te,"click",n[3]),Y(r,"click",n[8])],X=!0)},p(m,[k]){(!O||k&4&&P!==(P="navbar-burger "+(m[2]?"is-active":"")))&&u(r,"class",P),m[1]?b?k&2&&M(b,1):(b=me(),b.c(),M(b,1),b.m(w,null)):b&&(ie(),q(b,1,1,()=>{b=null}),ne()),(!O||k&4&&J!==(J="navbar-menu "+(m[2]?"is-active":"")))&&u(A,"class",J);let $=S;S=ee(m),S===$?V[S].p(m,k):(ie(),q(V[$],1,1,()=>{V[$]=null}),ne(),D=V[S],D?D.p(m,k):(D=V[S]=x[S](m),D.c()),M(D,1),D.m(R.parentNode,R))},i(m){O||(M(b),M(D),O=!0)},o(m){q(b),q(D),O=!1},d(m){m&&d(a),b&&b.d(),m&&d(K),V[S].d(m),m&&d(R),X=!1,ke(Z)}}}function je(n,a,e){let t;Ee(n,Ve,p=>e(5,t=p));let{$$slots:l={},$$scope:i}=a,o,r=!1,s;typeof window<"u"&&(pe(()=>import("../chunks/peer.2037a756.js").then(p=>p.p),["../chunks/peer.2037a756.js","../chunks/index.10f0bbf2.js","../chunks/index.19e1161b.js"],import.meta.url).then(p=>{e(0,o=p.default)}),s=new URLSearchParams(window.location.search));let _=!1;function c(p){_&&(document.querySelector("#navbar-menu-mobile").contains(p.target)||e(2,_=!1))}const E=()=>e(2,_=!_);return n.$$set=p=>{"$$scope"in p&&e(6,i=p.$$scope)},n.$$.update=()=>{n.$$.dirty&48&&e(1,r=!(s!=null&&s.has("roomId"))&&t.route.id==="/play")},[o,r,_,c,s,t,i,l,E]}class Qe extends he{constructor(a){super(),ve(this,a,je,Ce,be,{})}}export{Qe as component,Ue as universal};
